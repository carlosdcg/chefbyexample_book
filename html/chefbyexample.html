<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="stylesheets/pygments.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/softcover.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/custom.css" media="screen" rel="stylesheet" type="text/css" />
    
    <title>chefbyexample</title>
    
      <script type="text/x-mathjax-config">
              MathJax.Hub.Config({
        "HTML-CSS": {
          availableFonts: ["TeX"],
        },
        TeX: {
          extensions: ["AMSmath.js", "AMSsymbols.js"],
          equationNumbers: {
            autoNumber: "AMS",
            
          },
          Macros: {
            PolyTeX:    "Poly{\\TeX}",
            PolyTeXnic: "Poly{\\TeX}nic",
            "softcover": "\\texttt{softcover}",
"unitvec": ["{\\hat #1}", 1]
          }
        },
        showProcessingMessages: false,
        messageStyle: "none",
        imageFont: null
      });

      </script>
      <script type="text/javascript" src="MathJax/MathJax.js?config=TeX-AMS-MML_SVG"></script>
    
  </head>
  <body>
    
    <div id="book">
      <div id="frontmatter" data-number="0"><div id="title_page"><h1 class="title">Chef by example</h1><h1 class="subtitle">Practical Exercises in a Successful Chef Deployment.</h1><h2 class="author">Carlos Camacho</h2></div>
<h1 class="contents">Contents</h1><div id="table_of_contents"><ul><li class="chapter-star"><a href="#preface" class="heading hyperref">Preface</a></li><li class="chapter"><a href="#cha-a_chapter" class="heading hyperref"><span class="number">Chapter 1 </span>The first chapter</a></li><li><ul><li class="section"><a href="#sec-a_section" class="heading hyperref"><span class="number">1.1 </span>A section</a></li><li><ul><li class="subsection"><a href="#uid32" class="heading hyperref"><span class="number">1.1.1 </span>Source code</a></li><li class="subsection"><a href="#uid34" class="heading hyperref"><span class="number">1.1.2 </span>Mathematics</a></li></ul></li><li class="section"><a href="#cid3" class="heading hyperref"><span class="number">1.2 </span>Images and tables</a></li><li><ul><li class="subsection"><a href="#uid38" class="heading hyperref"><span class="number">1.2.1 </span>Tables</a></li></ul></li><li class="section"><a href="#cid4" class="heading hyperref"><span class="number">1.3 </span>Command-line interface</a></li><li class="section"><a href="#cid5" class="heading hyperref"><span class="number">1.4 </span>Miscellanea</a></li></ul></li><li class="chapter"><a href="#cid6" class="heading hyperref"><span class="number">Chapter 2 </span>Another chapter</a></li><li class="chapter"><a href="#cid7" class="heading hyperref"><span class="number">Chapter 3 </span>Yet <em>another</em> chapter</a></li></ul></div>
<div class="chapter-star" id="preface"><h1><a href="#preface" class="heading hyperref">Preface</a></h1>
<p>The source code of the book is hosted in <a href="https://github.com/carlosdcg/chefbyexample_book" target="_blank">Github</a>,
everyone can fork and make pull requests; you are all invited.</p>
<p>This is my Chef Style DevOps Kung-fu implementation, inspired
in the Adam Jacob keynote from Chefconf 2015.<span class="intersentencespace"></span> A practical
roadmap to deal with software developers, infrastructure,
continuous delivery, automation and the lack of coffee in the office…</p>
<p>There isn’t an agreed definition for DevOps yet.<span class="intersentencespace"></span> DevOps is a cultural and professional movement, focused on
how we build and operate high velocity organizations, born
from the experience of its practitioners.</p>
<p>Principles (Universal)</p>
<ul><li>Based on prioritize people over products over companies.<span class="intersentencespace"></span>
</li>
<li>Design for the safety, contentment, knowledge and freedom of both your peers and your customers.<span class="intersentencespace"></span>
</li>
<li>Eliminate non-value-added actions and processes.<span class="intersentencespace"></span>
</li>
<li>Continuously improve your processes.<span class="intersentencespace"></span>
</li>
<li>Adapt to needs.<span class="intersentencespace"></span>
</li>
<li>Small improvements over the time.<span class="intersentencespace"></span>
</li>
<li>Fail faster to learn faster.<span class="intersentencespace"></span> Be calm, fix things and improve your processes.<span class="intersentencespace"></span>
</li>
<li>Workflows automation.<span class="intersentencespace"></span>
</li>
<li>Diversity, gets feedback, have different opinions, argue, make demonstrations on your points of view.<span class="intersentencespace"></span>
</li>
<li>Demo all the things you have or you are working in.<span class="intersentencespace"></span>
</li>
<li>Be the owner of your work, love your work, and find reasons to do your work.<span class="intersentencespace"></span>
</li>
<li>Improve and do things right even if is hard (At first).<span class="intersentencespace"></span>
</li>
<li>Make decisions based on your experience and proof your point of view.<span class="intersentencespace"></span>
</li></ul><p>Forms (Shared)</p>
<p>Applications (Unique)</p>
<p>A unique approach, based in previous experience focused on customers.</p>
<p>The excellence achieved thought long practice in one’s skill</p>
</div></div>

<div id="cha-a_chapter" data-tralics-id="cid1" class="chapter" data-number="1"><h1><a href="#cha-a_chapter" class="heading hyperref"><span class="number">Chapter 1 </span>The first chapter</a></h1>
<ul><li>General configuration structure for the chef-repo:
<ul><li>chef-repo/environments/banana.rb
</li>
<li>chef-repo/environments/potato.rb
</li>
<li>chef-repo/environments/kiwi.rb
</li>
<li>chef-repo/data_bags/banana.rb
</li>
<li>chef-repo/data_bags/potato.rb
</li>
<li>chef-repo/data_bags/kiwi.rb:
</li>
<li>chef-repo/roles/base.rb
</li>
<li>chef-repo/roles/web.rb
</li>
<li>chef-repo/roles/db.rb
</li></ul></li>
<li>Banana cookbook structure:
<ul><li>chef-repo/cookbooks/banana/templates/default/*.erb
</li>
<li>chef-repo/cookbooks/banana/attributes/default.rb
</li></ul></li>
<li>Potato cookbook structure:
<ul><li>chef-repo/cookbooks/potato/templates/default/*.erb
</li>
<li>chef-repo/cookbooks/potato/attributes/default.rb
</li></ul></li></ul><p>-Kiwi cookbook structure:
* chef-repo/cookbooks/kiwi/templates/default/*.erb
* chef-repo/cookbooks/kiwi/attributes/default.rb</p>
<p>A node belongs to an environment in which case, will override the default configuration per the corresponding one.</p>
<p>Override app attributes for kiwi (Non sensitive info)
Override app attributes for kiwi (Sensitive info)
Define the recipes for the xxx role</p>
<p>Default configuration templates for kiwi
Default configuration values according the templates for kiwi</p>
<p>This is the first paragraph of the Softcover Markdown template produced with the <span class="tt">softcover</span> command-line interface.<span class="intersentencespace"></span> It shows how to write a document in Markdown, a lightweight markup language, augmented with the <a href="http://kramdown.gettalong.org/" target="_blank">kramdown</a> converter and some custom extensions, including support for embedded Poly<span class="texhtml">T<span class="texhtmlE">E</span>X</span>, a subset of the powerful <span class="texhtml">L<span class="texhtmlA">A</span>T<span class="texhtmlE">E</span>X</span> typesetting system.<sup id="cha-1_footnote-ref-1" class="footnote"><a href="#cha-1_footnote-1">1</a></sup><span class="intersentencespace"></span> For more information, see <a href="http://manual.softcover.io/book" target="_blank"><em>The Softcover Book</em></a>.<span class="intersentencespace"></span> To learn how to easily publish (and optionally sell) documents produced with Softcover, visit <a href="http://softcover.io/" target="_blank">Softcover.io</a>.</p>
<p>This is the <em>second</em> paragraph, showing how to emphasize text.<sup id="cha-1_footnote-ref-2" class="footnote"><a href="#cha-1_footnote-2">2</a></sup><span class="intersentencespace"></span> You can also make text <strong>bold</strong> or <em>emphasize a second way</em>.<span class="intersentencespace"></span> Via embedded Poly<span class="texhtml">T<span class="texhtmlE">E</span>X</span>, Softcover also supports colored text, such as <span style="color: red">red</span>, <span style="color: CornflowerBlue">cornflower blue</span>, and <span style="color: #E8AB3A">arbitrary HTML colors</span>.</p>
</div>
<div id="sec-a_section" data-tralics-id="cid2" class="section" data-number="1.1"><h2><a href="#sec-a_section" class="heading hyperref"><span class="number">1.1 </span>A section</a></h2>
<p>This is a section.<span class="intersentencespace"></span> You can refer to it using the <span class="texhtml">L<span class="texhtmlA">A</span>T<span class="texhtmlE">E</span>X</span> cross-reference syntax, like so: <a href="#sec-a_section" class="hyperref">Section <span class="ref">1.1</span></a>.</p>
<div id="uid32" data-tralics-id="uid32" class="subsection" data-number="1.1.1"><h3><a href="#uid32" class="heading hyperref"><span class="number">1.1.1 </span>Source code</a></h3>
<p>This is a subsection.</p>
<p>You can typeset code samples and other verbatim text using four spaces of indentation:</p>
<pre class="verbatim">def hello
  puts "hello, world"
end</pre>
<p>Softcover also comes with full support for syntax-highlighted source code using kramdown’s default syntax, which combines the language name with indentation:</p>
<div class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">hello</span>
  <span class="nb">puts</span> <span class="s2">"hello, world"</span>
<span class="k">end</span>
</pre></div></div>
<p>Softcover’s Markdown mode also extends kramdown to support “code fencing” from GitHub-flavored Markdown:</p>
<div class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">hello</span>
  <span class="nb">puts</span> <span class="s2">"hello, world!"</span>
<span class="k">end</span>
</pre></div></div>
<p>The last of these can be combined with Poly<span class="texhtml">T<span class="texhtmlE">E</span>X</span>’s <code>codelisting</code> environment to make code listings with linked cross-references (<a href="#code-hello" class="hyperref">Listing <span class="ref">1.1</span></a>).</p>
<div class="codelisting" id="code-hello" data-tralics-id="uid33" data-number="1.1"><div class="heading"><span class="number">Listing 1.1:</span> <span class="description">Hello, world.</span>


</div>

<div class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">hello</span>
  <span class="nb">puts</span> <span class="s2">"hello, world!"</span>
<span class="k">end</span>
</pre></div></div></div></div>
<div id="uid34" data-tralics-id="uid34" class="subsection" data-number="1.1.2"><h3><a href="#uid34" class="heading hyperref"><span class="number">1.1.2 </span>Mathematics</a></h3>
<p>Softcover’s Markdown mode supports mathematical typesetting using <span class="texhtml">L<span class="texhtmlA">A</span>T<span class="texhtmlE">E</span>X</span> syntax, including inline math, such as <span class="inline_math">\(  \phi^2 - \phi - 1 = 0,  \)</span> and centered math, such as</p>
<div class="equation">\[  \phi = \frac{1+\sqrt{5}}{2}.  \]
</div><p class="noindent">It also supports centered equations with linked cross-reference via embedded Poly<span class="texhtml">T<span class="texhtmlE">E</span>X</span> (<a href="#eq-phi" class="hyperref">Eq. (<span class="ref">1.1</span>)</a>).</p>
<div id="eq-phi" data-tralics-id="uid35" data-number="1.1" class="equation">\begin{equation}
\label{eq:phi}
\phi = \frac{1+\sqrt{5}}{2}
\end{equation}
</div><p class="noindent">Softcover also supports an alternate math syntax, such as <span class="inline_math">\( \phi^2 - \phi - 1 = 0 \)</span>, and centered math, such as</p>
<div class="equation">\[ \phi = \frac{1+\sqrt{5}}{2}. \]
</div><p class="noindent">The <span class="texhtml">L<span class="texhtmlA">A</span>T<span class="texhtmlE">E</span>X</span> syntax is strongly preferred, but the alternate syntax is included for maximum compatibility with other systems.</p>
</div></div>
<div id="cid3" data-tralics-id="cid3" class="section" data-number="1.2"><h2><a href="#cid3" class="heading hyperref"><span class="number">1.2 </span>Images and tables</a></h2>
<p>This is the second section.</p>
<p>Softcover supports the inclusion of images, like this:</p>
<div class="graphics image"><img src="images/01_michael_hartl_headshot.jpg" alt="images/01_michael_hartl_headshot" /></div>
<p>Using <span class="texhtml">L<span class="texhtmlA">A</span>T<span class="texhtmlE">E</span>X</span> labels, you can also include a caption (as in <a href="#fig-captioned_image" class="hyperref">Figure <span class="ref">1.1</span></a>) or just a figure number (as in <a href="#fig-figure_number" class="hyperref">Figure <span class="ref">1.2</span></a>).</p>
<div class="center figure" id="fig-captioned_image" data-tralics-id="uid36" data-number="1.1">
<div class="graphics image"><img src="images/01_michael_hartl_headshot.jpg" alt="images/01_michael_hartl_headshot" /></div><div class="caption"><span class="header">Figure 1.1: </span><span class="description">Some dude.
</span></div></div>
<div class="center figure" id="fig-figure_number" data-tralics-id="uid37" data-number="1.2">
<div class="graphics image"><img src="images/01_michael_hartl_headshot.jpg" alt="images/01_michael_hartl_headshot" /></div><div class="caption"><span class="header">Figure 1.2 </span><span class="description"></span></div></div>
<div id="uid38" data-tralics-id="uid38" class="subsection" data-number="1.2.1"><h3><a href="#uid38" class="heading hyperref"><span class="number">1.2.1 </span>Tables</a></h3>
<p>Softcover supports raw tables via a simple table syntax:</p>
<table class="tabular"><tr class="top_border"><td class="left_border align_left right_border"><strong>HTTP request</strong></td>
<td class="align_left right_border"><strong>URL</strong></td>
<td class="align_left right_border"><strong>Action</strong></td>
<td class="align_left right_border"><strong>Purpose</strong></td>
</tr><tr><td class="left_border align_left right_border"><code>GET</code></td>
<td class="align_left right_border">/users</td>
<td class="align_left right_border"><code>index</code></td>
<td class="align_left right_border">page to list all users</td>
</tr><tr><td class="left_border align_left right_border"><code>GET</code></td>
<td class="align_left right_border">/users/1</td>
<td class="align_left right_border"><code>show</code></td>
<td class="align_left right_border">page to show user with id <code>1</code></td>
</tr><tr><td class="left_border align_left right_border"><code>GET</code></td>
<td class="align_left right_border">/users/new</td>
<td class="align_left right_border"><code>new</code></td>
<td class="align_left right_border">page to make a new user</td>
</tr><tr><td class="left_border align_left right_border"><code>POST</code></td>
<td class="align_left right_border">/users</td>
<td class="align_left right_border"><code>create</code></td>
<td class="align_left right_border">create a new user</td>
</tr><tr><td class="left_border align_left right_border"><code>GET</code></td>
<td class="align_left right_border">/users/1/edit</td>
<td class="align_left right_border"><code>edit</code></td>
<td class="align_left right_border">page to edit user with id <code>1</code></td>
</tr><tr><td class="left_border align_left right_border"><code>PATCH</code></td>
<td class="align_left right_border">/users/1</td>
<td class="align_left right_border"><code>update</code></td>
<td class="align_left right_border">update user with id <code>1</code></td>
</tr><tr class="bottom_border"><td class="left_border align_left right_border"><code>DELETE</code></td>
<td class="align_left right_border">/users/1</td>
<td class="align_left right_border"><code>destroy</code></td>
<td class="align_left right_border">delete user with id <code>1</code></td>
</tr></table><p>See <a href="http://manual.softcover.io/book/softcover_markdown#sec-embedded_tabular_and_tables" target="_blank"><em>The Softcover Book</em></a> to learn how to make more complicated tables.</p>
</div></div>
<div id="cid4" data-tralics-id="cid4" class="section" data-number="1.3"><h2><a href="#cid4" class="heading hyperref"><span class="number">1.3 </span>Command-line interface</a></h2>
<p>Softcover comes with a command-line interface called <code>softcover</code>.<span class="intersentencespace"></span> To get more information, just run <code>softcover help</code>:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> softcover <span class="nb">help</span>
<span class="go">Commands:</span>
<span class="go">  softcover build, build:all       # Build all formats</span>
<span class="go">  softcover build:epub         # Build EPUB</span>
<span class="go">  softcover build:html         # Build HTML</span>
<span class="go">  softcover build:mobi         # Build MOBI</span>
<span class="go">  softcover build:pdf          # Build PDF</span>
<span class="go">  softcover build:preview          # Build book preview in all formats</span>
<span class="go">  .</span>
<span class="go">  .</span>
<span class="go">  .</span>
</pre></div></div>
<p class="noindent">You can run <code>softcover help &lt;command&gt;</code> to get additional help on a given command:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> softcover <span class="nb">help </span>build
<span class="go">Usage:</span>
<span class="go">  softcover build, build:all</span>

<span class="go">Options:</span>
<span class="go">  -q, [--quiet]   # Quiet output</span>
<span class="go">  -s, [--silent]  # Silent output</span>

<span class="go">Build all formats</span>
</pre></div></div>
</div>
<div id="cid5" data-tralics-id="cid5" class="section" data-number="1.4"><h2><a href="#cid5" class="heading hyperref"><span class="number">1.4 </span>Miscellanea</a></h2>
<p>This is the end of the template—apart from two mostly empty chapters.<span class="intersentencespace"></span> In fact, let’s include the last chapter in its entirety, just to see how mostly empty it is:
</p><div class="code"><div class="highlight"><pre># Yet *another* chapter

*This chapter left intentionally blank*
</pre></div></div>
<p>Visit <a href="http://manual.softcover.io" target="_blank"><em>The Softcover Book</em></a> to learn more about what Softcover can do.</p>
</div>
<div id="cha-1_footnotes">
  <ol class="footnotes"><li id="cha-1_footnote-1">Pronunciations of “LaTeX” differ, but <em>lay</em>-tech is the one I prefer. <a class="arrow" href="#cha-1_footnote-ref-1">↑</a></li>
    <li id="cha-1_footnote-2">This is a footnote.<span class="intersentencespace"></span> It is numbered automatically. <a class="arrow" href="#cha-1_footnote-ref-2">↑</a></li>
  </ol></div><div id="cid6" data-tralics-id="cid6" class="chapter" data-number="2"><h1><a href="#cid6" class="heading hyperref"><span class="number">Chapter 2 </span>Another chapter</a></h1>
<p>This is another chapter.<sup id="cha-2_footnote-ref-1" class="footnote"><a href="#cha-2_footnote-1">1</a></sup><span class="intersentencespace"></span> It also includes a little code fencing, mainly to test an edge case for the sake of the Softcover test suite:<sup id="cha-2_footnote-ref-2" class="footnote"><a href="#cha-2_footnote-2">2</a></sup></p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> find . <span class="se">\(</span> -name <span class="se">\*</span>.gemspec -or -name <span class="se">\*</span>.jpg <span class="se">\)</span> -type f
</pre></div></div>
</div>
<div id="cha-2_footnotes">
  <ol class="footnotes"><li id="cha-2_footnote-1">Footnotes are numbered on a per-chapter basis. <a class="arrow" href="#cha-2_footnote-ref-1">↑</a></li>
    <li id="cha-2_footnote-2">The test suite uses the template files to stress-test the build system.<span class="intersentencespace"></span> In this case, there used to be a bug when math syntax appeared in a non-math context.<span class="intersentencespace"></span> Including the code fencing as above ensures that any regressions will cause the test suite to fail. <a class="arrow" href="#cha-2_footnote-ref-2">↑</a></li>
  </ol></div><div id="cid7" data-tralics-id="cid7" class="chapter" data-number="3"><h1><a href="#cid7" class="heading hyperref"><span class="number">Chapter 3 </span>Yet <em>another</em> chapter</a></h1>
<p><em>This chapter left intentionally blank</em></p>
</div>
    </div>
  </body>
</html>
